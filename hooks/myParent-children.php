<?php
// This script and data application were generated by AppGini 5.72
// Download AppGini for free from https://bigprof.com/appgini/download/

	/* Configuration */
	/*************************************/
$dir = __DIR__;
		$pcConfig = array(
                        'addresses' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District', 11 => 'Default', 12 => 'Ship'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district', 11 => 'default', 12 => 'ship'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11, 11 => '`addresses`.`default`', 12 => '`addresses`.`ship`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`addresses`.`address`)>100, concat(left(`addresses`.`address`,100),' ...'), `addresses`.`address`) as 'address', if(CHAR_LENGTH(`addresses`.`houseNumber`)>100, concat(left(`addresses`.`houseNumber`,100),' ...'), `addresses`.`houseNumber`) as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'country' => array(   
					'parent-table' => 'countries',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District', 11 => 'Default', 12 => 'Ship'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district', 11 => 'default', 12 => 'ship'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11, 11 => '`addresses`.`default`', 12 => '`addresses`.`ship`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`addresses`.`address`)>100, concat(left(`addresses`.`address`,100),' ...'), `addresses`.`address`) as 'address', if(CHAR_LENGTH(`addresses`.`houseNumber`)>100, concat(left(`addresses`.`houseNumber`,100),' ...'), `addresses`.`houseNumber`) as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'town' => array(   
					'parent-table' => 'town',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District', 11 => 'Default', 12 => 'Ship'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district', 11 => 'default', 12 => 'ship'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11, 11 => '`addresses`.`default`', 12 => '`addresses`.`ship`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`addresses`.`address`)>100, concat(left(`addresses`.`address`,100),' ...'), `addresses`.`address`) as 'address', if(CHAR_LENGTH(`addresses`.`houseNumber`)>100, concat(left(`addresses`.`houseNumber`,100),' ...'), `addresses`.`houseNumber`) as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'district' => array(   
					'parent-table' => 'town',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District', 11 => 'Default', 12 => 'Ship'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district', 11 => 'default', 12 => 'ship'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11, 11 => '`addresses`.`default`', 12 => '`addresses`.`ship`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`addresses`.`address`)>100, concat(left(`addresses`.`address`,100),' ...'), `addresses`.`address`) as 'address', if(CHAR_LENGTH(`addresses`.`houseNumber`)>100, concat(left(`addresses`.`houseNumber`,100),' ...'), `addresses`.`houseNumber`) as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District', 11 => 'Default', 12 => 'Ship'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district', 11 => 'default', 12 => 'ship'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11, 11 => '`addresses`.`default`', 12 => '`addresses`.`ship`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`addresses`.`address`)>100, concat(left(`addresses`.`address`,100),' ...'), `addresses`.`address`) as 'address', if(CHAR_LENGTH(`addresses`.`houseNumber`)>100, concat(left(`addresses`.`houseNumber`,100),' ...'), `addresses`.`houseNumber`) as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District', 11 => 'Default', 12 => 'Ship'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district', 11 => 'default', 12 => 'ship'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11, 11 => '`addresses`.`default`', 12 => '`addresses`.`ship`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`addresses`.`address`)>100, concat(left(`addresses`.`address`,100),' ...'), `addresses`.`address`) as 'address', if(CHAR_LENGTH(`addresses`.`houseNumber`)>100, concat(left(`addresses`.`houseNumber`,100),' ...'), `addresses`.`houseNumber`) as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				)
			),
			'mails' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Mails',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/email.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Mail'),
					'display-field-names' => array(1 => 'kind', 2 => 'mail'),
					'sortable-fields' => array(0 => '`mails`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-mails',
					'template-printable' => 'children-mails-printable',
					'query' => "SELECT `mails`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`mails`.`mail`)>100, concat(left(`mails`.`mail`,100),' ...'), `mails`.`mail`) as 'mail', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `mails` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`mails`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`mails`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`mails`.`company` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Mails',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/email.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Mail'),
					'display-field-names' => array(1 => 'kind', 2 => 'mail'),
					'sortable-fields' => array(0 => '`mails`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-mails',
					'template-printable' => 'children-mails-printable',
					'query' => "SELECT `mails`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`mails`.`mail`)>100, concat(left(`mails`.`mail`,100),' ...'), `mails`.`mail`) as 'mail', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `mails` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`mails`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`mails`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`mails`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Mails',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/email.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Mail'),
					'display-field-names' => array(1 => 'kind', 2 => 'mail'),
					'sortable-fields' => array(0 => '`mails`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-mails',
					'template-printable' => 'children-mails-printable',
					'query' => "SELECT `mails`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`mails`.`mail`)>100, concat(left(`mails`.`mail`,100),' ...'), `mails`.`mail`) as 'mail', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `mails` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`mails`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`mails`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`mails`.`company` "
				)
			),
			'orders' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 5 => 'ID Azienda', 6 => 'Documento', 7 => 'Numero', 8 => 'Cliente', 9 => 'Supplier', 11 => 'Data Ordine', 13 => 'Data di spedizione', 14 => 'Spedizione a mezzo', 16 => 'Pallets', 17 => 'Targa Automezzo', 18 => 'Totale ordine', 19 => 'Credito o cassa', 22 => 'Provvigione su ordine', 23 => 'CommisionRate', 24 => 'Ora di consegna', 25 => 'Luogo consegna'),
					'display-field-names' => array(1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 9 => 'supplier', 11 => 'date', 13 => 'shippedDate', 14 => 'shipVia', 16 => 'pallets', 17 => 'licencePlate', 18 => 'orderTotal', 19 => 'cashCredit', 22 => 'commisionFee', 23 => 'commisionRate', 24 => 'consigneeHour', 25 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`companies3`.`companyName`', 10 => '`contacts1`.`name`', 11 => '`orders`.`date`', 12 => '`orders`.`requiredDate`', 13 => '`orders`.`shippedDate`', 14 => '`companies4`.`companyName`', 15 => '`orders`.`Freight`', 16 => '`orders`.`pallets`', 17 => 18, 18 => '`orders`.`orderTotal`', 19 => 20, 20 => '`orders`.`trust`', 21 => '`orders`.`overdraft`', 22 => '`orders`.`commisionFee`', 23 => '`orders`.`commisionRate`', 24 => '`orders`.`consigneeHour`', 25 => 26, 26 => '`orders`.`related`', 27 => 28),
					'records-per-page' => 10,
					'default-sort-by' => 0,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'supplier', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d.%m.%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d.%m.%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d.%m.%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies4`.`companyName`), CONCAT_WS('',   `companies4`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', if(CHAR_LENGTH(`orders`.`licencePlate`)>100, concat(left(`orders`.`licencePlate`,100),' ...'), `orders`.`licencePlate`) as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', `orders`.`commisionRate` as 'commisionRate', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d.%m.%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace', `orders`.`related` as 'related', `orders`.`document` as 'document' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`supplier` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies4 ON `companies4`.`id`=`orders`.`shipVia` "
				),
				'typeDoc' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 5 => 'ID Azienda', 6 => 'Documento', 7 => 'Numero', 8 => 'Cliente', 9 => 'Supplier', 11 => 'Data Ordine', 13 => 'Data di spedizione', 14 => 'Spedizione a mezzo', 16 => 'Pallets', 17 => 'Targa Automezzo', 18 => 'Totale ordine', 19 => 'Credito o cassa', 22 => 'Provvigione su ordine', 23 => 'CommisionRate', 24 => 'Ora di consegna', 25 => 'Luogo consegna'),
					'display-field-names' => array(1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 9 => 'supplier', 11 => 'date', 13 => 'shippedDate', 14 => 'shipVia', 16 => 'pallets', 17 => 'licencePlate', 18 => 'orderTotal', 19 => 'cashCredit', 22 => 'commisionFee', 23 => 'commisionRate', 24 => 'consigneeHour', 25 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`companies3`.`companyName`', 10 => '`contacts1`.`name`', 11 => '`orders`.`date`', 12 => '`orders`.`requiredDate`', 13 => '`orders`.`shippedDate`', 14 => '`companies4`.`companyName`', 15 => '`orders`.`Freight`', 16 => '`orders`.`pallets`', 17 => 18, 18 => '`orders`.`orderTotal`', 19 => 20, 20 => '`orders`.`trust`', 21 => '`orders`.`overdraft`', 22 => '`orders`.`commisionFee`', 23 => '`orders`.`commisionRate`', 24 => '`orders`.`consigneeHour`', 25 => 26, 26 => '`orders`.`related`', 27 => 28),
					'records-per-page' => 10,
					'default-sort-by' => 0,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'supplier', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d.%m.%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d.%m.%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d.%m.%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies4`.`companyName`), CONCAT_WS('',   `companies4`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', if(CHAR_LENGTH(`orders`.`licencePlate`)>100, concat(left(`orders`.`licencePlate`,100),' ...'), `orders`.`licencePlate`) as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', `orders`.`commisionRate` as 'commisionRate', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d.%m.%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace', `orders`.`related` as 'related', `orders`.`document` as 'document' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`supplier` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies4 ON `companies4`.`id`=`orders`.`shipVia` "
				),
				'employee' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini vendita',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 5 => 'ID Azienda', 6 => 'Documento', 7 => 'Numero', 8 => 'Cliente', 9 => 'Supplier', 11 => 'Data Ordine', 13 => 'Data di spedizione', 14 => 'Spedizione a mezzo', 16 => 'Pallets', 17 => 'Targa Automezzo', 18 => 'Totale ordine', 19 => 'Credito o cassa', 22 => 'Provvigione su ordine', 23 => 'CommisionRate', 24 => 'Ora di consegna', 25 => 'Luogo consegna'),
					'display-field-names' => array(1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 9 => 'supplier', 11 => 'date', 13 => 'shippedDate', 14 => 'shipVia', 16 => 'pallets', 17 => 'licencePlate', 18 => 'orderTotal', 19 => 'cashCredit', 22 => 'commisionFee', 23 => 'commisionRate', 24 => 'consigneeHour', 25 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`companies3`.`companyName`', 10 => '`contacts1`.`name`', 11 => '`orders`.`date`', 12 => '`orders`.`requiredDate`', 13 => '`orders`.`shippedDate`', 14 => '`companies4`.`companyName`', 15 => '`orders`.`Freight`', 16 => '`orders`.`pallets`', 17 => 18, 18 => '`orders`.`orderTotal`', 19 => 20, 20 => '`orders`.`trust`', 21 => '`orders`.`overdraft`', 22 => '`orders`.`commisionFee`', 23 => '`orders`.`commisionRate`', 24 => '`orders`.`consigneeHour`', 25 => 26, 26 => '`orders`.`related`', 27 => 28),
					'records-per-page' => 10,
					'default-sort-by' => 0,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'supplier', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d.%m.%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d.%m.%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d.%m.%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies4`.`companyName`), CONCAT_WS('',   `companies4`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', if(CHAR_LENGTH(`orders`.`licencePlate`)>100, concat(left(`orders`.`licencePlate`,100),' ...'), `orders`.`licencePlate`) as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', `orders`.`commisionRate` as 'commisionRate', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d.%m.%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace', `orders`.`related` as 'related', `orders`.`document` as 'document' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`supplier` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies4 ON `companies4`.`id`=`orders`.`shipVia` "
				)
			),
			'ordersDetails' => array(   
				'order' => array(   
					'parent-table' => 'orders',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Articoli dell\'ordine',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/calendar_view_month.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(  
                                            2 => 'Data produzione', 
                                            3 => 'Data vendita', 
                                            7 => 'Codice prodotto', 
                                            8 => 'Prodotto tax', 
                                            10 => 'Colli', 
                                            11 => 'Es. Colli', 
                                            13 => 'UM',
                                            14 => 'Peso riscontrato', 
                                            15 => 'Prezzo unitario', 
                                            16 => 'Imponibile', 
                                            17 => 'Imposta', 
                                            18 => 'Sconto', 
                                            19 => 'SubTotale', 
                                            21 => 'Tipo transazione', 
                                            22 => 'Prezzo medio giorno', 
                                            23 => 'Peso medio giorno', 
                                            24 => 'Provvigione', 
                                            25 => 'Includi commissione', 
                                            26 => 'SupplierCode'),
					'display-field-names' => array(
                                            2 => 'manufactureDate', 
                                            3 => 'sellDate', 
                                            7 => 'productCode', 
                                            8 => 'TAX',
                                            10 => 'packages', 
                                            11 => 'noSell', 
                                            13 => 'UM', 
                                            14 => 'QuantityReal', 
                                            15 => 'UnitPrice', 
                                            16 => 'Subtotal', 
                                            17 => 'taxes', 
                                            18 => 'Discount', 
                                            19 => 'LineTotal', 
                                            21 => 'transaction_type', 
                                            23 => 'averagePrice', 
                                            24 => 'averageWeight', 
                                            25 => 'commission', 
                                            26 => 'return', 
                                            27 => 'supplierCode'),
					'sortable-fields' => array(0 => '`ordersDetails`.`id`', 1 => '`orders1`.`id`', 2 => '`ordersDetails`.`manufactureDate`', 3 => '`ordersDetails`.`sellDate`', 4 => '`ordersDetails`.`expiryDate`', 5 => '`ordersDetails`.`daysToExpiry`', 6 => '`products1`.`codebar`', 7 => '`products1`.`UM`', 8 => '`products1`.`productCode`', 9 => 10, 10 => '`ordersDetails`.`packages`', 11 => '`ordersDetails`.`noSell`', 12 => '`ordersDetails`.`Quantity`', 13 => '`ordersDetails`.`QuantityReal`', 14 => '`ordersDetails`.`UnitPrice`', 15 => '`ordersDetails`.`Subtotal`', 16 => '`ordersDetails`.`taxes`', 17 => '`ordersDetails`.`Discount`', 18 => '`ordersDetails`.`LineTotal`', 19 => '`kinds1`.`code`', 20 => 21, 21 => '`ordersDetails`.`skBatches`', 22 => '`ordersDetails`.`averagePrice`', 23 => '`ordersDetails`.`averageWeight`', 24 => '`ordersDetails`.`commission`', 25 => 26, 26 => 27),
					'records-per-page' => 10,
					'default-sort-by' => 0,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => '../hooks/children-ordersDetails',
					'template-printable' => 'children-ordersDetails-printable',
                                        'query1' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`default`, 'check', 'unchecked'), '\"></i>') as 'default', concat('<i class=\"glyphicon glyphicon-', if(`addresses`.`ship`, 'check', 'unchecked'), '\"></i>') as 'ship' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` ",
                                        'query' => preg_replace("/[\n\r]/"," ",file_get_contents('../hooks/SQLc_orderDetailsChildren.sql')),
                                        'queryCount' =>''
				),
				'productCode' => array(   
					'parent-table' => 'products',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/calendar_view_month.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(2 => 'Data produzione', 3 => 'Data vendita', 7 => 'UM', 8 => 'Codice prodotto', 10 => 'Colli', 11 => 'Es. Colli', 12 => 'Peso partenza', 13 => 'Peso riscontrato', 14 => 'Prezzo unitario', 15 => 'Imponibile', 16 => 'Imposta', 17 => 'Sconto', 18 => 'SubTotale', 20 => 'Tipo transazione', 22 => 'Prezzo medio giorno', 23 => 'Peso medio giorno', 24 => 'Provvigione', 25 => 'Includi commissione', 26 => 'SupplierCode'),
					'display-field-names' => array(2 => 'manufactureDate', 3 => 'sellDate', 7 => 'UM', 8 => 'productCode', 10 => 'packages', 11 => 'noSell', 12 => 'Quantity', 13 => 'QuantityReal', 14 => 'UnitPrice', 15 => 'Subtotal', 16 => 'taxes', 17 => 'Discount', 18 => 'LineTotal', 20 => 'transaction_type', 22 => 'averagePrice', 23 => 'averageWeight', 24 => 'commission', 25 => 'return', 26 => 'supplierCode'),
					'sortable-fields' => array(0 => '`ordersDetails`.`id`', 1 => '`orders1`.`id`', 2 => '`ordersDetails`.`manufactureDate`', 3 => '`ordersDetails`.`sellDate`', 4 => '`ordersDetails`.`expiryDate`', 5 => '`ordersDetails`.`daysToExpiry`', 6 => '`products1`.`codebar`', 7 => '`products1`.`UM`', 8 => '`products1`.`productCode`', 9 => 10, 10 => '`ordersDetails`.`packages`', 11 => '`ordersDetails`.`noSell`', 12 => '`ordersDetails`.`Quantity`', 13 => '`ordersDetails`.`QuantityReal`', 14 => '`ordersDetails`.`UnitPrice`', 15 => '`ordersDetails`.`Subtotal`', 16 => '`ordersDetails`.`taxes`', 17 => '`ordersDetails`.`Discount`', 18 => '`ordersDetails`.`LineTotal`', 19 => '`kinds1`.`code`', 20 => 21, 21 => '`ordersDetails`.`skBatches`', 22 => '`ordersDetails`.`averagePrice`', 23 => '`ordersDetails`.`averageWeight`', 24 => '`ordersDetails`.`commission`', 25 => 26, 26 => 27),
					'records-per-page' => 10,
					'default-sort-by' => 0,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-ordersDetails',
					'template-printable' => 'children-ordersDetails-printable',
					'query1' => "SELECT `ordersDetails`.`id` as 'id', IF(    CHAR_LENGTH(`orders1`.`id`), CONCAT_WS('',   `orders1`.`id`), '') as 'order', if(`ordersDetails`.`manufactureDate`,date_format(`ordersDetails`.`manufactureDate`,'%d/%m/%Y'),'') as 'manufactureDate', if(`ordersDetails`.`sellDate`,date_format(`ordersDetails`.`sellDate`,'%d/%m/%Y'),'') as 'sellDate', if(`ordersDetails`.`expiryDate`,date_format(`ordersDetails`.`expiryDate`,'%d/%m/%Y'),'') as 'expiryDate', `ordersDetails`.`daysToExpiry` as 'daysToExpiry', IF(    CHAR_LENGTH(`products1`.`codebar`), CONCAT_WS('',   `products1`.`codebar`), '') as 'codebar', IF(    CHAR_LENGTH(`products1`.`UM`), CONCAT_WS('',   `products1`.`UM`), '') as 'UM', IF(    CHAR_LENGTH(`products1`.`productCode`), CONCAT_WS('',   `products1`.`productCode`), '') as 'productCode', IF(    CHAR_LENGTH(`products1`.`productCode`) || CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`productCode`, '-', `products1`.`id`), '') as 'batch', `ordersDetails`.`packages` as 'packages', `ordersDetails`.`noSell` as 'noSell', `ordersDetails`.`Quantity` as 'Quantity', `ordersDetails`.`QuantityReal` as 'QuantityReal', CONCAT('&euro;', FORMAT(`ordersDetails`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`ordersDetails`.`Subtotal`, 2)) as 'Subtotal', CONCAT('&euro;', FORMAT(`ordersDetails`.`taxes`, 2)) as 'taxes', `ordersDetails`.`Discount` as 'Discount', CONCAT('&euro;', FORMAT(`ordersDetails`.`LineTotal`, 2)) as 'LineTotal', IF(    CHAR_LENGTH(`kinds1`.`code`), CONCAT_WS('',   `kinds1`.`code`), '') as 'section', `ordersDetails`.`transaction_type` as 'transaction_type', `ordersDetails`.`skBatches` as 'skBatches', `ordersDetails`.`averagePrice` as 'averagePrice', `ordersDetails`.`averageWeight` as 'averageWeight', `ordersDetails`.`commission` as 'commission', concat('<i class=\"glyphicon glyphicon-', if(`ordersDetails`.`return`, 'check', 'unchecked'), '\"></i>') as 'return', `ordersDetails`.`supplierCode` as 'supplierCode' FROM `ordersDetails` LEFT JOIN `orders` as orders1 ON `orders1`.`id`=`ordersDetails`.`order` LEFT JOIN `products` as products1 ON `products1`.`id`=`ordersDetails`.`productCode` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`ordersDetails`.`section` ",
                                        'query' => preg_replace("/[\n\r]/"," ",file_get_contents('../hooks/SLQc_productDetailsChildren.sql')),
				)
			),
			'_resumeOrders' => array(   
			),
			'products' => array(   
				'tax' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Articoli Magazzino',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/installer_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Codebar', 2 => 'Codice prodotto', 3 => 'Descrizione Prodotto', 4 => 'Aliquota', 5 => 'Ricarico %', 6 => 'Categoria', 7 => 'UM', 8 => 'Tara', 10 => 'Prezzo Acquisto', 11 => 'Prezzo Vendita', 15 => 'Giacenza', 16 => 'Discontinuo', 17 => 'Manufactured date', 18 => 'Expiry date', 19 => 'Note', 20 => 'Update date'),
					'display-field-names' => array(1 => 'codebar', 2 => 'productCode', 3 => 'productName', 4 => 'tax', 5 => 'increment', 6 => 'CategoryID', 7 => 'UM', 8 => 'tare', 10 => 'UnitPrice', 11 => 'sellPrice', 15 => 'balance', 16 => 'Discontinued', 17 => 'manufactured_date', 18 => 'expiry_date', 19 => 'note', 20 => 'update_date'),
					'sortable-fields' => array(0 => '`products`.`id`', 1 => 2, 2 => 3, 3 => 4, 4 => '`kinds1`.`name`', 5 => '`products`.`increment`', 6 => '`kinds2`.`name`', 7 => 8, 8 => '`products`.`tare`', 9 => 10, 10 => '`products`.`UnitPrice`', 11 => '`products`.`sellPrice`', 12 => '`products`.`UnitsInStock`', 13 => '`products`.`UnitsOnOrder`', 14 => '`products`.`ReorderLevel`', 15 => '`products`.`balance`', 16 => '`products`.`Discontinued`', 17 => '`products`.`manufactured_date`', 18 => '`products`.`expiry_date`', 19 => 20, 20 => '`products`.`update_date`'),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-products',
					'template-printable' => 'children-products-printable',
					'query' => "SELECT `products`.`id` as 'id', `products`.`codebar` as 'codebar', `products`.`productCode` as 'productCode', `products`.`productName` as 'productName', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'tax', `products`.`increment` as 'increment', IF(    CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`name`), '') as 'CategoryID', `products`.`UM` as 'UM', `products`.`tare` as 'tare', `products`.`QuantityPerUnit` as 'QuantityPerUnit', CONCAT('&euro;', FORMAT(`products`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`products`.`sellPrice`, 2)) as 'sellPrice', `products`.`UnitsInStock` as 'UnitsInStock', `products`.`UnitsOnOrder` as 'UnitsOnOrder', `products`.`ReorderLevel` as 'ReorderLevel', `products`.`balance` as 'balance', concat('<i class=\"glyphicon glyphicon-', if(`products`.`Discontinued`, 'check', 'unchecked'), '\"></i>') as 'Discontinued', if(`products`.`manufactured_date`,date_format(`products`.`manufactured_date`,'%d/%m/%Y'),'') as 'manufactured_date', if(`products`.`expiry_date`,date_format(`products`.`expiry_date`,'%d/%m/%Y'),'') as 'expiry_date', `products`.`note` as 'note', if(`products`.`update_date`,date_format(`products`.`update_date`,'%d/%m/%Y %h:%i %p'),'') as 'update_date' FROM `products` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`products`.`tax` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`products`.`CategoryID` "
				),
				'CategoryID' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Articoli Magazzino',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/installer_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Codebar', 2 => 'Codice prodotto', 3 => 'Descrizione Prodotto', 4 => 'Aliquota', 5 => 'Ricarico %', 6 => 'Categoria', 7 => 'UM', 8 => 'Tara', 10 => 'Prezzo Acquisto', 11 => 'Prezzo Vendita', 15 => 'Giacenza', 16 => 'Discontinuo', 17 => 'Manufactured date', 18 => 'Expiry date', 19 => 'Note', 20 => 'Update date'),
					'display-field-names' => array(1 => 'codebar', 2 => 'productCode', 3 => 'productName', 4 => 'tax', 5 => 'increment', 6 => 'CategoryID', 7 => 'UM', 8 => 'tare', 10 => 'UnitPrice', 11 => 'sellPrice', 15 => 'balance', 16 => 'Discontinued', 17 => 'manufactured_date', 18 => 'expiry_date', 19 => 'note', 20 => 'update_date'),
					'sortable-fields' => array(0 => '`products`.`id`', 1 => 2, 2 => 3, 3 => 4, 4 => '`kinds1`.`name`', 5 => '`products`.`increment`', 6 => '`kinds2`.`name`', 7 => 8, 8 => '`products`.`tare`', 9 => 10, 10 => '`products`.`UnitPrice`', 11 => '`products`.`sellPrice`', 12 => '`products`.`UnitsInStock`', 13 => '`products`.`UnitsOnOrder`', 14 => '`products`.`ReorderLevel`', 15 => '`products`.`balance`', 16 => '`products`.`Discontinued`', 17 => '`products`.`manufactured_date`', 18 => '`products`.`expiry_date`', 19 => 20, 20 => '`products`.`update_date`'),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-products',
					'template-printable' => 'children-products-printable',
					'query' => "SELECT `products`.`id` as 'id', `products`.`codebar` as 'codebar', `products`.`productCode` as 'productCode', `products`.`productName` as 'productName', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'tax', `products`.`increment` as 'increment', IF(    CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`name`), '') as 'CategoryID', `products`.`UM` as 'UM', `products`.`tare` as 'tare', `products`.`QuantityPerUnit` as 'QuantityPerUnit', CONCAT('&euro;', FORMAT(`products`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`products`.`sellPrice`, 2)) as 'sellPrice', `products`.`UnitsInStock` as 'UnitsInStock', `products`.`UnitsOnOrder` as 'UnitsOnOrder', `products`.`ReorderLevel` as 'ReorderLevel', `products`.`balance` as 'balance', concat('<i class=\"glyphicon glyphicon-', if(`products`.`Discontinued`, 'check', 'unchecked'), '\"></i>') as 'Discontinued', if(`products`.`manufactured_date`,date_format(`products`.`manufactured_date`,'%d/%m/%Y'),'') as 'manufactured_date', if(`products`.`expiry_date`,date_format(`products`.`expiry_date`,'%d/%m/%Y'),'') as 'expiry_date', `products`.`note` as 'note', if(`products`.`update_date`,date_format(`products`.`update_date`,'%d/%m/%Y %h:%i %p'),'') as 'update_date' FROM `products` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`products`.`tax` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`products`.`CategoryID` "
				)
			),
			'firstCashNote' => array(   
				'order' => array(   
					'parent-table' => 'orders',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Prima Nota',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/data_sort.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Order', 2 => 'Data operazione', 4 => 'Causale', 5 => 'Entrate', 6 => 'Uscite', 7 => 'Bilancio', 9 => 'Banca', 10 => 'Note pagamento', 11 => 'Pagamento in data', 12 => 'Pagato SI/NO'),
					'display-field-names' => array(1 => 'order', 2 => 'operationDate', 4 => 'causal', 5 => 'revenue', 6 => 'outputs', 7 => 'balance', 9 => 'bank', 10 => 'note', 11 => 'paymentDeadLine', 12 => 'payed'),
					'sortable-fields' => array(0 => '`firstCashNote`.`id`', 1 => '`orders1`.`id`', 2 => '`firstCashNote`.`operationDate`', 4 => 5, 5 => '`firstCashNote`.`revenue`', 6 => '`firstCashNote`.`outputs`', 7 => '`firstCashNote`.`balance`', 8 => '`companies1`.`companyName`', 9 => '`firstCashNote`.`bank`', 10 => 11, 11 => '`firstCashNote`.`paymentDeadLine`', 12 => 13),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-firstCashNote',
					'template-printable' => 'children-firstCashNote-printable',
					'query' => "SELECT `firstCashNote`.`id` as 'id', IF(    CHAR_LENGTH(`orders1`.`multiOrder`), CONCAT_WS('',   `orders1`.`multiOrder`), '') as 'order', if(`firstCashNote`.`operationDate`,date_format(`firstCashNote`.`operationDate`,'%d/%m/%Y'),'') as 'operationDate', `firstCashNote`.`causal` as 'causal', `firstCashNote`.`revenue` as 'revenue', `firstCashNote`.`outputs` as 'outputs', `firstCashNote`.`balance` as 'balance', IF(    CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyName`), '') as 'idBank', `firstCashNote`.`bank` as 'bank', `firstCashNote`.`note` as 'note', if(`firstCashNote`.`paymentDeadLine`,date_format(`firstCashNote`.`paymentDeadLine`,'%d/%m/%Y'),'') as 'paymentDeadLine', CONCAT('<i class=\"glyphicon glyphicon-',IF(`firstCashNote`.`payed`,'check','unchecked'),'\"></i>') AS 'payed' FROM `firstCashNote` LEFT JOIN `orders` as orders1 ON `orders1`.`id`=`firstCashNote`.`order` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`firstCashNote`.`idBank` "
				)
			),
			'vatRegister' => array(   
				'idCompany' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Registro Corrispettivi',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/book_spelling.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'ID Azienda', 2 => 'Esercizio commerciale', 3 => 'Aliquota riferimento', 4 => 'Mese corrispettivi', 5 => 'Anno', 6 => 'Importo'),
					'display-field-names' => array(1 => 'idCompany', 2 => 'companyName', 3 => 'tax', 4 => 'month', 5 => 'year', 6 => 'amount'),
					'sortable-fields' => array(0 => '`vatRegister`.`id`', 1 => '`companies1`.`companyCode`', 2 => '`companies1`.`companyName`', 3 => 4, 4 => 5, 5 => 6, 6 => '`vatRegister`.`amount`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-vatRegister',
					'template-printable' => 'children-vatRegister-printable',
					'query' => "SELECT `vatRegister`.`id` as 'id', IF(    CHAR_LENGTH(`companies1`.`companyCode`), CONCAT_WS('',   `companies1`.`companyCode`), '') as 'idCompany', IF(    CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyName`), '') as 'companyName', `vatRegister`.`tax` as 'tax', `vatRegister`.`month` as 'month', `vatRegister`.`year` as 'year', `vatRegister`.`amount` as 'amount' FROM `vatRegister` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`vatRegister`.`idCompany` "
				)
			),
			'companies' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Companies',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/factory.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'CompanyCode', 3 => 'CompanyName', 4 => 'FiscalCode', 5 => 'Vat', 6 => 'Notes', 7 => 'Codice Destinatario'),
					'display-field-names' => array(1 => 'kind', 2 => 'companyCode', 3 => 'companyName', 4 => 'fiscalCode', 5 => 'vat', 6 => 'notes', 7 => 'codiceDestinatario'),
					'sortable-fields' => array(0 => '`companies`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => 8),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-companies',
					'template-printable' => 'children-companies-printable',
					'query' => "SELECT `companies`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`companies`.`companyCode`)>100, concat(left(`companies`.`companyCode`,100),' ...'), `companies`.`companyCode`) as 'companyCode', if(CHAR_LENGTH(`companies`.`companyName`)>100, concat(left(`companies`.`companyName`,100),' ...'), `companies`.`companyName`) as 'companyName', if(CHAR_LENGTH(`companies`.`fiscalCode`)>100, concat(left(`companies`.`fiscalCode`,100),' ...'), `companies`.`fiscalCode`) as 'fiscalCode', if(CHAR_LENGTH(`companies`.`vat`)>100, concat(left(`companies`.`vat`,100),' ...'), `companies`.`vat`) as 'vat', `companies`.`notes` as 'notes', IF(    CHAR_LENGTH(`codiceDestinatario1`.`code`) || CHAR_LENGTH(`codiceDestinatario1`.`list`), CONCAT_WS('',   `codiceDestinatario1`.`code`, ' - ', `codiceDestinatario1`.`list`), '') as 'codiceDestinatario' FROM `companies` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`companies`.`kind` LEFT JOIN `codiceDestinatario` as codiceDestinatario1 ON `codiceDestinatario1`.`id`=`companies`.`codiceDestinatario` "
				),
				'codiceDestinatario' => array(   
					'parent-table' => 'codiceDestinatario',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Companies',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/factory.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'CompanyCode', 3 => 'CompanyName', 4 => 'FiscalCode', 5 => 'Vat', 6 => 'Notes', 7 => 'Codice Destinatario'),
					'display-field-names' => array(1 => 'kind', 2 => 'companyCode', 3 => 'companyName', 4 => 'fiscalCode', 5 => 'vat', 6 => 'notes', 7 => 'codiceDestinatario'),
					'sortable-fields' => array(0 => '`companies`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => 8),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-companies',
					'template-printable' => 'children-companies-printable',
					'query' => "SELECT `companies`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', if(CHAR_LENGTH(`companies`.`companyCode`)>100, concat(left(`companies`.`companyCode`,100),' ...'), `companies`.`companyCode`) as 'companyCode', if(CHAR_LENGTH(`companies`.`companyName`)>100, concat(left(`companies`.`companyName`,100),' ...'), `companies`.`companyName`) as 'companyName', if(CHAR_LENGTH(`companies`.`fiscalCode`)>100, concat(left(`companies`.`fiscalCode`,100),' ...'), `companies`.`fiscalCode`) as 'fiscalCode', if(CHAR_LENGTH(`companies`.`vat`)>100, concat(left(`companies`.`vat`,100),' ...'), `companies`.`vat`) as 'vat', `companies`.`notes` as 'notes', IF(    CHAR_LENGTH(`codiceDestinatario1`.`code`) || CHAR_LENGTH(`codiceDestinatario1`.`list`), CONCAT_WS('',   `codiceDestinatario1`.`code`, ' - ', `codiceDestinatario1`.`list`), '') as 'codiceDestinatario' FROM `companies` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`companies`.`kind` LEFT JOIN `codiceDestinatario` as codiceDestinatario1 ON `codiceDestinatario1`.`id`=`companies`.`codiceDestinatario` "
				)
			),
			'contacts' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Contacts',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/client_account_template.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Title Of Courtesy', 3 => 'Name', 4 => 'LastName', 5 => 'Notes', 6 => 'Title', 7 => 'Birth Date', 8 => 'Codice EORI'),
					'display-field-names' => array(1 => 'kind', 2 => 'titleCourtesy', 3 => 'name', 4 => 'lastName', 5 => 'notes', 6 => 'title', 7 => 'birthDate', 8 => 'CodEORI'),
					'sortable-fields' => array(0 => '`contacts`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`contacts`.`birthDate`', 8 => 9),
					'records-per-page' => 10,
					'default-sort-by' => 4,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-contacts',
					'template-printable' => 'children-contacts-printable',
					'query' => "SELECT `contacts`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `contacts`.`titleCourtesy` as 'titleCourtesy', if(CHAR_LENGTH(`contacts`.`name`)>100, concat(left(`contacts`.`name`,100),' ...'), `contacts`.`name`) as 'name', if(CHAR_LENGTH(`contacts`.`lastName`)>100, concat(left(`contacts`.`lastName`,100),' ...'), `contacts`.`lastName`) as 'lastName', `contacts`.`notes` as 'notes', if(CHAR_LENGTH(`contacts`.`title`)>100, concat(left(`contacts`.`title`,100),' ...'), `contacts`.`title`) as 'title', if(`contacts`.`birthDate`,date_format(`contacts`.`birthDate`,'%d/%m/%Y'),'') as 'birthDate', `contacts`.`CodEORI` as 'CodEORI' FROM `contacts` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`contacts`.`kind` "
				)
			),
			'creditDocument' => array(   
			),
			'electronicInvoice' => array(   
			),
			'countries' => array(   
			),
			'town' => array(   
				'country' => array(   
					'parent-table' => 'countries',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Comuni italiani',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/italy.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Country', 2 => 'IdIstat', 3 => 'Comune', 4 => 'Provincia', 5 => 'Regione', 6 => 'Prefisso', 7 => 'CAP', 8 => 'Codice Fisc.', 9 => 'Abitanti', 10 => 'Link'),
					'display-field-names' => array(1 => 'country', 2 => 'idIstat', 3 => 'town', 4 => 'district', 5 => 'region', 6 => 'prefix', 7 => 'shipCode', 8 => 'fiscCode', 9 => 'inhabitants', 10 => 'link'),
					'sortable-fields' => array(0 => '`town`.`id`', 1 => '`countries1`.`country`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => 8, 8 => 9, 9 => 10, 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-town',
					'template-printable' => 'children-town-printable',
					'query' => "SELECT `town`.`id` as 'id', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', if(CHAR_LENGTH(`town`.`idIstat`)>100, concat(left(`town`.`idIstat`,100),' ...'), `town`.`idIstat`) as 'idIstat', if(CHAR_LENGTH(`town`.`town`)>100, concat(left(`town`.`town`,100),' ...'), `town`.`town`) as 'town', if(CHAR_LENGTH(`town`.`district`)>100, concat(left(`town`.`district`,100),' ...'), `town`.`district`) as 'district', if(CHAR_LENGTH(`town`.`region`)>100, concat(left(`town`.`region`,100),' ...'), `town`.`region`) as 'region', if(CHAR_LENGTH(`town`.`prefix`)>100, concat(left(`town`.`prefix`,100),' ...'), `town`.`prefix`) as 'prefix', if(CHAR_LENGTH(`town`.`shipCode`)>100, concat(left(`town`.`shipCode`,100),' ...'), `town`.`shipCode`) as 'shipCode', if(CHAR_LENGTH(`town`.`fiscCode`)>100, concat(left(`town`.`fiscCode`,100),' ...'), `town`.`fiscCode`) as 'fiscCode', if(CHAR_LENGTH(`town`.`inhabitants`)>100, concat(left(`town`.`inhabitants`,100),' ...'), `town`.`inhabitants`) as 'inhabitants', if(CHAR_LENGTH(`town`.`link`)>100, concat(left(`town`.`link`,100),' ...'), `town`.`link`) as 'link' FROM `town` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`town`.`country` "
				)
			),
			'GPSTrackingSystem' => array(   
			),
			'kinds' => array(   
			),
			'Logs' => array(   
			),
			'attributes' => array(   
				'attribute' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'product' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`company` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`product` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'product' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`company` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`product` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'product' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`company` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`product` "
				),
				'product' => array(   
					'parent-table' => 'products',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'product' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`company` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`product` "
				)
			),
			'contacts_companies' => array(   
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Contact =>Companies',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/brick_link.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Contact', 2 => 'Company', 3 => 'Default'),
					'display-field-names' => array(1 => 'contact', 2 => 'company', 3 => 'default'),
					'sortable-fields' => array(0 => '`contacts_companies`.`id`', 1 => 2, 2 => 3, 3 => 4),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-contacts_companies',
					'template-printable' => 'children-contacts_companies-printable',
					'query' => "SELECT `contacts_companies`.`id` as 'id', IF(    CHAR_LENGTH(`contacts1`.`name`) || CHAR_LENGTH(`contacts1`.`lastName`), CONCAT_WS('',   `contacts1`.`name`, ' ', `contacts1`.`lastName`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`companyName`) || CHAR_LENGTH(`companies1`.`companyCode`), CONCAT_WS('',   `companies1`.`companyName`, ' - ', `companies1`.`companyCode`), '') as 'company', concat('<i class=\"glyphicon glyphicon-', if(`contacts_companies`.`default`, 'check', 'unchecked'), '\"></i>') as 'default' FROM `contacts_companies` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`contacts_companies`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`contacts_companies`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Company=>Contacts',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/brick_link.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Contact', 2 => 'Company', 3 => 'Default'),
					'display-field-names' => array(1 => 'contact', 2 => 'company', 3 => 'default'),
					'sortable-fields' => array(0 => '`contacts_companies`.`id`', 1 => 2, 2 => 3, 3 => 4),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-contacts_companies',
					'template-printable' => 'children-contacts_companies-printable',
					'query' => "SELECT `contacts_companies`.`id` as 'id', IF(    CHAR_LENGTH(`contacts1`.`name`) || CHAR_LENGTH(`contacts1`.`lastName`), CONCAT_WS('',   `contacts1`.`name`, ' ', `contacts1`.`lastName`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`companyName`) || CHAR_LENGTH(`companies1`.`companyCode`), CONCAT_WS('',   `companies1`.`companyName`, ' - ', `companies1`.`companyCode`), '') as 'company', concat('<i class=\"glyphicon glyphicon-', if(`contacts_companies`.`default`, 'check', 'unchecked'), '\"></i>') as 'default' FROM `contacts_companies` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`contacts_companies`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`contacts_companies`.`company` "
				)
			),
			'attachments' => array(   
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attachments',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/attach.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Name', 2 => 'File', 5 => 'ThumbUse'),
					'display-field-names' => array(1 => 'name', 2 => 'file', 5 => 'thumbUse'),
					'sortable-fields' => array(0 => '`attachments`.`id`', 1 => 2, 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`attachments`.`thumbUse`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attachments',
					'template-printable' => 'children-attachments-printable',
					'query' => "SELECT `attachments`.`id` as 'id', if(CHAR_LENGTH(`attachments`.`name`)>100, concat(left(`attachments`.`name`,100),' ...'), `attachments`.`name`) as 'name', if(CHAR_LENGTH(`attachments`.`file`)>100, concat(left(`attachments`.`file`,100),' ...'), `attachments`.`file`) as 'file', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', concat('<i class=\"glyphicon glyphicon-', if(`attachments`.`thumbUse`, 'check', 'unchecked'), '\"></i>') as 'thumbUse' FROM `attachments` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attachments`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attachments`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attachments',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/attach.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Name', 2 => 'File', 5 => 'ThumbUse'),
					'display-field-names' => array(1 => 'name', 2 => 'file', 5 => 'thumbUse'),
					'sortable-fields' => array(0 => '`attachments`.`id`', 1 => 2, 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`attachments`.`thumbUse`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attachments',
					'template-printable' => 'children-attachments-printable',
					'query' => "SELECT `attachments`.`id` as 'id', if(CHAR_LENGTH(`attachments`.`name`)>100, concat(left(`attachments`.`name`,100),' ...'), `attachments`.`name`) as 'name', if(CHAR_LENGTH(`attachments`.`file`)>100, concat(left(`attachments`.`file`,100),' ...'), `attachments`.`file`) as 'file', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', concat('<i class=\"glyphicon glyphicon-', if(`attachments`.`thumbUse`, 'check', 'unchecked'), '\"></i>') as 'thumbUse' FROM `attachments` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attachments`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attachments`.`company` "
				)
			),
                        'codiceDestinatario' => array(   
			)
		);

	/*************************************/
	/* End of configuration */


	$currDir = dirname(__FILE__)."/..";
	include("{$currDir}/defaultLang.php");
	include("{$currDir}/language.php");
	include("{$currDir}/lib.php");
	@header('Content-Type: text/html; charset=' . datalist_db_encoding);

	handle_maintenance();

	/**
	* dynamic configuration based on current user's permissions
	* $userPCConfig array is populated only with parent tables where the user has access to
	* at least one child table
	*/
	$userPCConfig = array();
	foreach($pcConfig as $pcChildTable => $ChildrenLookups){
		$permChild = getTablePermissions($pcChildTable);
		if($permChild[2]){ // user can view records of the child table, so proceed to check children lookups
			foreach($ChildrenLookups as $ChildLookupField => $ChildConfig){
				$permParent = getTablePermissions($ChildConfig['parent-table']);
				if($permParent[2]){ // user can view records of parent table
					$userPCConfig[$pcChildTable][$ChildLookupField] = $pcConfig[$pcChildTable][$ChildLookupField];
					// show add new only if configured above AND the user has insert permission
					if($permChild[1] && $pcConfig[$pcChildTable][$ChildLookupField]['display-add-new']){
						$userPCConfig[$pcChildTable][$ChildLookupField]['display-add-new'] = true;
					}else{
						$userPCConfig[$pcChildTable][$ChildLookupField]['display-add-new'] = false;
					}
				}
			}
		}
	}

	/* Receive, UTF-convert, and validate parameters */
	$ParentTable = $_REQUEST['ParentTable']; // needed only with operation=show-children, will be validated in the processing code
	$ChildTable = $_REQUEST['ChildTable'];
		if(!in_array($ChildTable, array_keys($userPCConfig))){
			/* defaults to first child table in config array if not provided */
			$ChildTable = current(array_keys($userPCConfig));
		}
		if(!$ChildTable){ die('<!-- No tables accessible to current user -->'); }
	$SelectedID = strip_tags($_REQUEST['SelectedID']);
	$ChildLookupField = $_REQUEST['ChildLookupField'];
		if(!in_array($ChildLookupField, array_keys($userPCConfig[$ChildTable]))){
			/* defaults to first lookup in current child config array if not provided */
			$ChildLookupField = current(array_keys($userPCConfig[$ChildTable]));
		}
	$Page = intval($_REQUEST['Page']);
		if($Page < 1){
			$Page = 1;
		}
	$SortBy = ($_REQUEST['SortBy'] != '' ? abs(intval($_REQUEST['SortBy'])) : false);
		if(!in_array($SortBy, array_keys($userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields']), true)){
			$SortBy = $userPCConfig[$ChildTable][$ChildLookupField]['default-sort-by'];
		}
	$SortDirection = strtolower($_REQUEST['SortDirection']);
		if(!in_array($SortDirection, array('asc', 'desc'))){
			$SortDirection = $userPCConfig[$ChildTable][$ChildLookupField]['default-sort-direction'];
		}
	$Operation = strtolower($_REQUEST['Operation']);
		if(!in_array($Operation, array('get-records', 'show-children', 'get-records-printable', 'show-children-printable'))){
			$Operation = 'get-records';
		}

	/* process requested operation */
	switch($Operation){
		/************************************************/
		case 'show-children':
			/* populate HTML and JS content with children tabs */
			$tabLabels = $tabPanels = $tabLoaders = '';
                    ?>
                    <div class="panel-group" id="children-tabs">

                    <?php
			foreach($userPCConfig as $ChildTable => $childLookups){
				foreach($childLookups as $ChildLookupField => $childConfig){
					if($childConfig['parent-table'] == $ParentTable){
						$TableIcon = ($childConfig['table-icon'] ? "<img src=\"{$childConfig['table-icon']}\" border=\"0\" />" : '');
						$tabLabels = sprintf('<h4 class="panel-title"><a href="#panel_%s-%s" id="tab_%s-%s" data-toggle="collapse" data-parent="children-tabs">%s%s</a></h4>' . "\n\t\t\t\t\t", $ChildTable, $ChildLookupField, $ChildTable, $ChildLookupField, $TableIcon, $childConfig['tab-label']);
						$tabPanels = sprintf('<div id="panel_%s-%s" class="panel-collapse collapse%s"><div class="panel-body"><img src="loading.gif" align="top" />%s</div></div>' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, ($tabPanels ? '' : ' in'), $Translation['Loading ...']);
                                                ?>
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    
					<?php echo $tabLabels; ?>
                                </div>
                            </div>
                            <span id="pc-loading"></span>
                            <?php echo $tabPanels; ?>
                    </div>
                            
                                                <?php
						if (isset($_REQUEST['readonly']) && $_REQUEST['readonly']){
                                                    $tabLoaders .= sprintf('post("hooks/myParent-children.php", { readonly: true, ChildTable: "%s", ChildLookupField: "%s", SelectedID: "%s", Page: 1, SortBy: "", SortDirection: "", Operation: "get-records" }, "panel_%s-%s");' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, addslashes($SelectedID), $ChildTable, $ChildLookupField);
                                                }else{
                                                    $tabLoaders .= sprintf('post("hooks/myParent-children.php", { ChildTable: "%s", ChildLookupField: "%s", SelectedID: "%s", Page: 1, SortBy: "", SortDirection: "", Operation: "get-records" }, "panel_%s-%s");' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, addslashes($SelectedID), $ChildTable, $ChildLookupField);
                                                }
					}
				}
			}

			if(!$tabLabels){ die('<!-- no children of current parent table are accessible to current user -->'); }
			?>
			</div>

			<script>
				$j(function(){
					/* for iOS, avoid loading child tabs in modals */
					var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
					var embedded = ($j('.navbar').length == 0);
					if(iOS && embedded){
						$j('#children-tabs').next('.tab-content').remove();
						$j('#children-tabs').remove();
						return;
					}

					/* ajax loading of each tab's contents */
					<?php echo $tabLoaders; ?>
				})
			</script>
			<?php
			break;

		/************************************************/
		case 'show-children-printable':
			/* populate HTML and JS content with children buttons */
			$tabLabels = $tabPanels = $tabLoaders = '';
			foreach($userPCConfig as $ChildTable => $childLookups){
				foreach($childLookups as $ChildLookupField => $childConfig){
					if($childConfig['parent-table'] == $ParentTable){
						$TableIcon = ($childConfig['table-icon'] ? "<img src=\"{$childConfig['table-icon']}\" border=\"0\" />" : '');
						$tabLabels .= sprintf('<button type="button" class="btn btn-default" data-target="#panel_%s-%s" id="tab_%s-%s" data-toggle="collapse">%s %s</button>' . "\n\t\t\t\t\t", $ChildTable, $ChildLookupField, $ChildTable, $ChildLookupField, $TableIcon, $childConfig['tab-label']);
						$tabPanels .= sprintf('<div id="panel_%s-%s" class="collapse"><img src="loading.gif" align="top" />%s</div>' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, $Translation['Loading ...']);
						$tabLoaders .= sprintf('post("hooks/myParent-children.php", { ChildTable: "%s", ChildLookupField: "%s", SelectedID: "%s", Page: 1, SortBy: "", SortDirection: "", Operation: "get-records-printable" }, "panel_%s-%s");' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, addslashes($SelectedID), $ChildTable, $ChildLookupField);
					}
				}
			}

			if(!$tabLabels){ die('<!-- no children of current parent table are accessible to current user -->'); }
			?>
			<div id="children-tabs" class="hidden-print">
				<div class="btn-group">
					<?php echo $tabLabels; ?>
				</div>
				<span id="pc-loading"></span>
			</div>
			<div class="vspacer-lg"><?php echo $tabPanels; ?></div>

			<script>
				$j(function(){
					/* for iOS, avoid loading child tabs in modals */
					var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
					var embedded = ($j('.navbar').length == 0);
					if(iOS && embedded){
						$j('#children-tabs').next('.tab-content').remove();
						$j('#children-tabs').remove();
						return;
					}

					/* ajax loading of each tab's contents */
					<?php echo $tabLoaders; ?>
				})
			</script>
			<?php
			break;

		/************************************************/
		case 'get-records-printable':
		default: /* default is 'get-records' */

			if($Operation == 'get-records-printable'){
				$userPCConfig[$ChildTable][$ChildLookupField]['records-per-page'] = 2000;
			}

			// build the user permissions limiter
			$permissionsWhere = $permissionsJoin = '';
			$permChild = getTablePermissions($ChildTable);
			if($permChild[2] == 1){ // user can view only his own records
				$permissionsWhere = "`$ChildTable`.`{$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key']}`=`membership_userrecords`.`pkValue` AND `membership_userrecords`.`tableName`='$ChildTable' AND LCASE(`membership_userrecords`.`memberID`)='".getLoggedMemberID()."'";
			}elseif($permChild[2] == 2){ // user can view only his group's records
				$permissionsWhere = "`$ChildTable`.`{$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key']}`=`membership_userrecords`.`pkValue` AND `membership_userrecords`.`tableName`='$ChildTable' AND `membership_userrecords`.`groupID`='".getLoggedGroupID()."'";
			}elseif($permChild[2] == 3){ // user can view all records
				/* that's the only case remaining ... no need to modify the query in this case */
			}
			$permissionsJoin = ($permissionsWhere ? ", `membership_userrecords`" : '');

			// build the count query
			$forcedWhere = $userPCConfig[$ChildTable][$ChildLookupField]['forced-where'];
                        $a = preg_replace('/^select .* from /i', 'SELECT count(1) FROM ', $userPCConfig[$ChildTable][$ChildLookupField]['query']);
			$query = 
				$a.
				$permissionsJoin . " WHERE " .
				($permissionsWhere ? "( $permissionsWhere )" : "( 1=1 )") . " AND " .
				($forcedWhere ? "( $forcedWhere )" : "( 2=2 )") . " AND " .
				"`$ChildTable`.`$ChildLookupField`='" . makeSafe($SelectedID) . "'";
//                        echo var_dump($query);
			$totalMatches = sqlValue($query);

			// make sure $Page is <= max pages
			$maxPage = ceil($totalMatches / $userPCConfig[$ChildTable][$ChildLookupField]['records-per-page']);
			if($Page > $maxPage){ $Page = $maxPage; }

			// initiate output data array
			$data = array(
				'config' => $userPCConfig[$ChildTable][$ChildLookupField],
				'parameters' => array(
					'ChildTable' => $ChildTable,
					'ChildLookupField' => $ChildLookupField,
					'SelectedID' => $SelectedID,
					'Page' => $Page,
					'SortBy' => $SortBy,
					'SortDirection' => $SortDirection,
					'Operation' => $Operation
				),
				'records' => array(),
				'totalMatches' => $totalMatches
			);

			// build the data query
			if($totalMatches){ // if we have at least one record, proceed with fetching data
				$startRecord = $userPCConfig[$ChildTable][$ChildLookupField]['records-per-page'] * ($Page - 1);
				$data['query'] = 
					$userPCConfig[$ChildTable][$ChildLookupField]['query'] .
					$permissionsJoin . " WHERE " .
					($permissionsWhere ? "( $permissionsWhere )" : "( 1=1 )") . " AND " .
					($forcedWhere ? "( $forcedWhere )" : "( 2=2 )") . " AND " .
					"`$ChildTable`.`$ChildLookupField`='" . makeSafe($SelectedID) . "'" . 
					($SortBy !== false && $userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields'][$SortBy] ? " ORDER BY {$userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields'][$SortBy]} $SortDirection" : '') .
					" LIMIT $startRecord, {$userPCConfig[$ChildTable][$ChildLookupField]['records-per-page']}";
				$res = sql($data['query'], $eo);
				while($row = db_fetch_row($res)){
					$data['records'][$row[$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key-index']]] = $row;
				}
			}else{ // if no matching records
				$startRecord = 0;
			}

			if($Operation == 'get-records-printable'){
				$response = loadView($userPCConfig[$ChildTable][$ChildLookupField]['template-printable'], $data);
			}else{
				$response = loadView($userPCConfig[$ChildTable][$ChildLookupField]['template'], $data);
			}

			// change name space to ensure uniqueness
			$uniqueNameSpace = $ChildTable.ucfirst($ChildLookupField).'GetRecords';
			echo str_replace("{$ChildTable}GetChildrenRecordsList", $uniqueNameSpace, $response);
		/************************************************/
	}
